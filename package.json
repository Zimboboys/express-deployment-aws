{
  "name": "express-deployment-aws",
  "version": "0.0.5",
  "license": "ISC",
  "repository": "https://github.com/Zimboboys/express-deployment-aws",
  "files": "*",
  "config": {
    "s3BucketName": "simple-api-practice",
    "region": "us-east-1",
    "cloudFormationStackName": "simple-api",
    "functionName": "",
    "domain": ""
  },
  "scripts": {
    "build": "webpack-cli",
    "setup": "(cross-var aws s3api get-bucket-location --bucket $npm_package_config_s3BucketName --region $npm_package_config_region || yarn run create-bucket) && yarn run package-deploy",
    "create-bucket": "cross-var aws s3 mb s3://$npm_package_config_s3BucketName --region $npm_package_config_region",
    "package": "cross-var aws cloudformation package --template ./sam-template.yaml --s3-bucket $npm_package_config_s3BucketName --output-template sam-template.packaged.yaml --region $npm_package_config_region",
    "deploy": "cross-var aws cloudformation deploy --template-file sam-template.packaged.yaml --stack-name $npm_package_config_cloudFormationStackName --capabilities CAPABILITY_IAM --region $npm_package_config_region --parameter-overrides DomainName=$npm_package_config_domain",
    "package-deploy": "yarn run build && yarn run package && yarn run deploy",
    "get-api-url": "aws cloudformation --region $npm_package_config_region describe-stacks --stack-name $npm_package_config_cloudFormationStackName --query \"Stacks[0].Outputs[?OutputKey=='ApiUrl'].OutputValue\" --output text"
  },
  "dependencies": {
    "@vendia/serverless-express": "^4.3.4",
    "cross-var": "^1.1.0",
    "dotenv-webpack": "^7.0.2",
    "source-map-support": "^0.5.19",
    "webpack": "^5.27.1",
    "webpack-cli": "^4.5.0"
  }
}
